{"version":3,"sources":["index.js"],"names":["Square","props","className","onClick","style","background","color","value","Board","board","i","this","settings","size","push","renderRow","line","row","renderSquare","history","colors","squares","renderBoard","React","Component","Game","state","xNext","winCond","winner","stepNum","settingsMsg","sortOrder","sizeInput","createRef","winCondInput","Array","fill","step","setState","hori","vert","newSize","parseInt","current","newWinCond","newGame","status","moves","slice","sort","reverse","map","move","length","desc","key","fontWeight","jumpTo","handleClick","width","defaultValue","type","ref","name","changeGameSettings","player","start","Math","max","end","min","count","winningSquares","col","curVert","curHori","newColor","forEach","element","floor","winningCol","checkCol","winningRow","checkRow","winningDiag","checkDiag","winningAntiDiag","checkAntiDiag","concat","updateColorArray","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.20a08950.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nfunction Square(props) {\r\n    return (\r\n        <button className=\"square\" onClick= {props.onClick} style={{background: props.color}}>\r\n            {props.value}\r\n        </button>\r\n    );\r\n}\r\n\r\nclass Board extends React.Component {\r\n    renderBoard(){\r\n        const board = [];\r\n        for(let i = 0; i < this.props.settings.size;i++){\r\n            board.push(\r\n                <div className=\"board-row\">\r\n                    {this.renderRow(this.props.settings.size,i)}\r\n                </div>\r\n            )\r\n        }\r\n        return board;\r\n    }\r\n\r\n    renderRow(size,line){\r\n        const row = [];\r\n        for(let i = 0; i < size;i++){\r\n            row.push(this.renderSquare((size*line)+i))\r\n        }\r\n\r\n        return row;\r\n    }\r\n\r\n    renderSquare(i) {\r\n        return <Square color={this.props.history.colors[i]} value={this.props.history.squares[i]} onClick={() => this.props.onClick(i)}/>;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderBoard()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Game extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          size: 20, //any more than 50 will make the board misaligns.\r\n          xNext: true, // who goes first\r\n          winCond: 5, // number of continuous squares to win \r\n          winner: null,\r\n          stepNum: 0,\r\n          settingsMsg: null,\r\n          sortOrder: true,\r\n        };\r\n        this.sizeInput= React.createRef();\r\n        this.winCondInput= React.createRef();\r\n        this.state.history = [{\r\n            squares: Array(this.state.size*this.state.size).fill(null),\r\n            colors: Array(this.state.size*this.state.size).fill(\"white\"),\r\n            winner: null\r\n        }];\r\n        this.state.colors =  Array(this.state.size*this.state.size).fill(\"white\");\r\n    }\r\n\r\n    jumpTo(step){\r\n        this.setState({\r\n            stepNum: step,\r\n            xNext: (step % 2) === 0,\r\n          });\r\n    }\r\n\r\n    newGame(){\r\n        this.setState({\r\n            history: [{\r\n                squares: Array(this.state.size*this.state.size).fill(null),\r\n                colors: Array(this.state.size*this.state.size).fill(\"white\"),\r\n                winner: null,\r\n                hori: null,\r\n                vert: null,\r\n            }],\r\n            stepNum: 0,\r\n            winner: null,\r\n            xNext: true,\r\n            colors: Array(this.state.size*this.state.size).fill(\"white\")\r\n        })\r\n    }\r\n\r\n    changeGameSettings(){\r\n        const newSize = parseInt(this.sizeInput.current.value);\r\n        const newWinCond = parseInt(this.winCondInput.current.value);\r\n        if(newSize < 1 || newWinCond > newSize || newWinCond < 1){\r\n            this.setState({\r\n               settingsMsg: 'Invalid settings'\r\n            })\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            settingsMsg: null,\r\n            size: newSize,\r\n            winCond: newWinCond\r\n        })\r\n        this.newGame();\r\n    }\r\n    \r\n    render() {\r\n        let history = this.state.history;\r\n        const current = history[this.state.stepNum];\r\n        \r\n        let status = 0;\r\n        if(current.winner)\r\n            if(current.winner !== 'None')\r\n                status = 'Winner: ' + current.winner;\r\n            else status = 'Draw!'\r\n        else status = 'Next player: ' + (this.state.xNext ? 'X' : 'O');\r\n\r\n        if(this.state.sortOrder){\r\n            history = history.slice().sort();\r\n        } else{\r\n            history = history.slice().sort().reverse();\r\n        }\r\n\r\n        const moves = history.map((step, move) => {\r\n        if(!this.state.sortOrder){\r\n            move = history.length - 1 - move;\r\n        }\r\n        const desc = move ?\r\n            'Go to move #' + move + ' (' + (parseInt(step.hori)) + ',' + (parseInt(step.vert)) + ')':\r\n            'Go to game start';\r\n        return (\r\n            <li key={move} style={this.state.stepNum === move? {fontWeight: 'bold'}: {fontWeight: 'normal'}}>\r\n            <button style={this.state.stepNum === move? {fontWeight: 'bold'}: {fontWeight: 'normal'}} onClick={() => this.jumpTo(move)}>{desc}</button>\r\n            </li>\r\n        );\r\n        });\r\n\r\n        return (\r\n            <div className=\"game\">\r\n                <div className=\"game-board\">\r\n                    <Board settings={this.state} history={current} onClick={(i) => this.handleClick(i)} />\r\n                </div>\r\n                <div className=\"game-info\" style={{width: 200}}>\r\n                    <div>{status}</div>\r\n                    <div>{this.state.winner && <button onClick={()=> this.newGame()}>Start a new game</button>}</div>\r\n                    <div>Move List: <button onClick={()=>{this.setState({sortOrder:!this.state.sortOrder})}}>{this.state.sortOrder?'Ascending':'Descending'}</button></div>\r\n                    <ol>{moves}</ol>\r\n                </div>\r\n                <div className=\"game-info\" style={{width: 150}}>\r\n                        <div><label>\r\n                            Board size:<br/>\r\n                            Default: 20 <br/>\r\n                            <input defaultValue={20} type=\"number\" ref={this.sizeInput} name=\"boardsize\" />\r\n                        </label>\r\n                        </div>\r\n                        <div>\r\n                        <label>\r\n                            Winning condition:<br/>\r\n                            Default: 5 <br/>\r\n                            Max: board size <br/>\r\n                            <input defaultValue={5} type=\"number\" ref={this.winCondInput} name=\"winningcond\"></input>\r\n                        </label>\r\n                        </div>\r\n                        <br/>\r\n                        <button onClick={()=> this.changeGameSettings()}>Apply and reset</button>\r\n                    <div style={{color: 'red'}}>{this.state.settingsMsg}</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // find longest horizontal sequence of current player from current move.\r\n    checkRow(squares, size, winCond,hori,vert,player){\r\n        let start = Math.max(0,hori-(winCond-1));\r\n        let end = Math.min(hori+(winCond-1),size-1);\r\n        let count = 0;\r\n        let winningSquares = [];\r\n        let line = vert*size;\r\n        let max = 1;\r\n\r\n        for(start;start <= end;start++){\r\n            if(squares[line + start] === player){\r\n                count++;\r\n                winningSquares.push(line + start);\r\n            } else {\r\n                if(count > max)\r\n                    max = count;\r\n                count = 0;\r\n                \r\n            }\r\n        }\r\n\r\n        if(count > max)\r\n            max = count;\r\n\r\n        if(max >= winCond){\r\n            return winningSquares;\r\n        }\r\n        else return null;\r\n    }\r\n\r\n    // find longest vertical sequence of current player from current move.\r\n    checkCol(squares, size, winCond, hori,vert,player){\r\n        let start = Math.max(0,vert-(winCond-1));\r\n        let end = Math.min(vert+(winCond-1),size-1);\r\n        let count = 0;\r\n        let winningSquares = [];\r\n        let col = hori;\r\n        let max = 1;\r\n\r\n        for(start;start <= end;start++){\r\n            if(squares[start*size + col] === player){\r\n                count++;\r\n                winningSquares.push(start*size + col);\r\n            } else {\r\n                if(count > max)\r\n                    max = count;\r\n                count = 0;\r\n            }\r\n        }\r\n\r\n        if(count > max)\r\n            max = count;\r\n\r\n            if(max >= winCond){\r\n                return winningSquares;\r\n            }\r\n            else return null;\r\n    }\r\n\r\n    // check 2 halves of the diagonal sequence of current player from current move.\r\n    checkDiag(squares, size, winCond, hori,vert,player){\r\n        let count = 1;\r\n        let i = 1,curVert = vert, curHori = hori;\r\n        let winningSquares = [];\r\n\r\n        while (i < winCond){\r\n            curVert = vert + i;\r\n            curHori = hori + i;\r\n\r\n            if(curVert >= 0 && curVert < size && curHori >= 0 && curHori < size){      \r\n                if(squares[curVert*size + curHori] === player){\r\n                    count++;\r\n                    winningSquares.push(curVert*size + curHori);\r\n                } \r\n            }\r\n\r\n            curVert = vert - i;\r\n            curHori = hori - i;\r\n\r\n            if(curVert >= 0 && curVert < size && curHori >= 0 && curHori < size){      \r\n                if(squares[curVert*size + curHori] === player){\r\n                    count++;\r\n                    winningSquares.push(curVert*size + curHori);\r\n                } \r\n            }\r\n\r\n            i++;\r\n        }\r\n\r\n        if(count >= winCond){\r\n            return winningSquares;\r\n        }\r\n        else return null;\r\n    }\r\n\r\n    // check 2 halves of the antidiagonal sequence of current player from current move.\r\n    checkAntiDiag(squares, size, winCond,hori,vert,player){\r\n        let count = 1;\r\n        let i = 1,curVert = vert, curHori = hori;\r\n        let winningSquares = [];\r\n\r\n        while (i < winCond){\r\n            curVert = vert + i;\r\n            curHori = hori - i;\r\n\r\n            if(curVert >= 0 && curVert < size && curHori >= 0 && curHori < size){      \r\n                if(squares[curVert*size + curHori] === player){\r\n                    count++;\r\n                    winningSquares.push(curVert*size + curHori);\r\n                } \r\n            }\r\n\r\n            curVert = vert - i;\r\n            curHori = hori + i;\r\n\r\n            if(curVert >= 0 && curVert < size && curHori >= 0 && curHori < size){      \r\n                if(squares[curVert*size + curHori] === player){\r\n                    count++;\r\n                    winningSquares.push(curVert*size + curHori);\r\n                } \r\n            }\r\n\r\n            i++;\r\n        }\r\n        \r\n        if(count >= winCond){\r\n            return winningSquares;\r\n        }\r\n        else return null;\r\n    }\r\n\r\n    updateColorArray(winningSquares){\r\n        let newColor = Array(this.state.size*this.state.size).fill(\"white\");\r\n        winningSquares.forEach((element) => {\r\n            newColor[parseInt(element)] = \"yellow\"    \r\n        });\r\n\r\n        return newColor;\r\n    }\r\n\r\n    handleClick(i) {\r\n        const history = this.state.history.slice(0,this.state.stepNum +1);\r\n        const vert = Math.floor(i / this.state.size);\r\n        const hori = i % this.state.size;\r\n        const player = this.state.xNext ? 'X' : 'O';\r\n        const squares = history[history.length-1].squares.slice();\r\n        const colors = history[history.length-1].colors.slice();\r\n        let winningSquares = [];\r\n\r\n        \r\n        if(history[history.length-1].winner !== null || squares[i] !== null){\r\n            return;\r\n        }\r\n        squares[i] = player;\r\n        \r\n        const winningCol = this.checkCol(squares,this.state.size,this.state.winCond,hori,vert,player)\r\n        const winningRow = this.checkRow(squares,this.state.size,this.state.winCond,hori,vert,player)\r\n        const winningDiag = this.checkDiag(squares,this.state.size,this.state.winCond,hori,vert,player)\r\n        const winningAntiDiag = this.checkAntiDiag(squares,this.state.size,this.state.winCond,hori,vert,player)\r\n\r\n        if(winningCol !== null){\r\n            winningSquares= winningSquares.concat(winningCol);\r\n        }\r\n        if(winningRow !== null){\r\n            winningSquares= winningSquares.concat(winningRow);\r\n        }\r\n        if(winningDiag !== null){\r\n            winningSquares= winningSquares.concat(winningDiag);\r\n            winningSquares.push(i);\r\n        }\r\n        if(winningAntiDiag !== null){\r\n            winningSquares= winningSquares.concat(winningAntiDiag);\r\n            winningSquares.push(i);\r\n        }\r\n\r\n        if(winningSquares.length > 0){\r\n            this.setState({\r\n                history: history.concat([{\r\n                    squares: squares,\r\n                    colors: this.updateColorArray(winningSquares),\r\n                    winner: player,\r\n                    hori: hori,\r\n                    vert: vert,\r\n                }]),\r\n                stepNum: history.length,\r\n                xNext: !this.state.xNext,\r\n                winner: player,\r\n            });\r\n            return;\r\n        }\r\n        \r\n        this.setState({\r\n            history: history.concat([{\r\n                squares: squares,\r\n                colors: colors,\r\n                winner: null,\r\n                hori: hori,\r\n                vert: vert,\r\n            }]),\r\n            stepNum: history.length,\r\n            xNext: !this.state.xNext,\r\n        });\r\n\r\n        if(!squares.includes(null)){\r\n            this.setState({\r\n                history: history.concat([{\r\n                    squares: squares,\r\n                    colors: colors,\r\n                    winner: 'None',\r\n                }]),\r\n            })\r\n            return;\r\n        }\r\n    }\r\n}\r\n\r\n// ========================================\r\n\r\nReactDOM.render(\r\n    <Game />,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}