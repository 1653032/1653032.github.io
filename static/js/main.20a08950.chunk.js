(this.webpackJsonptiktaktho=this.webpackJsonptiktaktho||[]).push([[0],{13:function(e,t,n){},7:function(e,t,n){e.exports=n(8)},8:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(2),r=n(3),i=n(4),l=n(0),o=n.n(l),u=n(6),c=n.n(u);n(13);function h(e){return o.a.createElement("button",{className:"square",onClick:e.onClick,style:{background:e.color}},e.value)}var m=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"renderBoard",value:function(){for(var e=[],t=0;t<this.props.settings.size;t++)e.push(o.a.createElement("div",{className:"board-row"},this.renderRow(this.props.settings.size,t)));return e}},{key:"renderRow",value:function(e,t){for(var n=[],a=0;a<e;a++)n.push(this.renderSquare(e*t+a));return n}},{key:"renderSquare",value:function(e){var t=this;return o.a.createElement(h,{color:this.props.history.colors[e],value:this.props.history.squares[e],onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderBoard())}}]),n}(o.a.Component),d=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={size:20,xNext:!0,winCond:5,winner:null,stepNum:0,settingsMsg:null,sortOrder:!0},s.sizeInput=o.a.createRef(),s.winCondInput=o.a.createRef(),s.state.history=[{squares:Array(s.state.size*s.state.size).fill(null),colors:Array(s.state.size*s.state.size).fill("white"),winner:null}],s.state.colors=Array(s.state.size*s.state.size).fill("white"),s}return Object(s.a)(n,[{key:"jumpTo",value:function(e){this.setState({stepNum:e,xNext:e%2===0})}},{key:"newGame",value:function(){this.setState({history:[{squares:Array(this.state.size*this.state.size).fill(null),colors:Array(this.state.size*this.state.size).fill("white"),winner:null,hori:null,vert:null}],stepNum:0,winner:null,xNext:!0,colors:Array(this.state.size*this.state.size).fill("white")})}},{key:"changeGameSettings",value:function(){var e=parseInt(this.sizeInput.current.value),t=parseInt(this.winCondInput.current.value);e<1||t>e||t<1?this.setState({settingsMsg:"Invalid settings"}):(this.setState({settingsMsg:null,size:e,winCond:t}),this.newGame())}},{key:"render",value:function(){var e=this,t=this.state.history,n=t[this.state.stepNum],a=0;a=n.winner?"None"!==n.winner?"Winner: "+n.winner:"Draw!":"Next player: "+(this.state.xNext?"X":"O");var s=(t=this.state.sortOrder?t.slice().sort():t.slice().sort().reverse()).map((function(n,a){e.state.sortOrder||(a=t.length-1-a);var s=a?"Go to move #"+a+" ("+parseInt(n.hori)+","+parseInt(n.vert)+")":"Go to game start";return o.a.createElement("li",{key:a,style:e.state.stepNum===a?{fontWeight:"bold"}:{fontWeight:"normal"}},o.a.createElement("button",{style:e.state.stepNum===a?{fontWeight:"bold"}:{fontWeight:"normal"},onClick:function(){return e.jumpTo(a)}},s))}));return o.a.createElement("div",{className:"game"},o.a.createElement("div",{className:"game-board"},o.a.createElement(m,{settings:this.state,history:n,onClick:function(t){return e.handleClick(t)}})),o.a.createElement("div",{className:"game-info",style:{width:200}},o.a.createElement("div",null,a),o.a.createElement("div",null,this.state.winner&&o.a.createElement("button",{onClick:function(){return e.newGame()}},"Start a new game")),o.a.createElement("div",null,"Move List: ",o.a.createElement("button",{onClick:function(){e.setState({sortOrder:!e.state.sortOrder})}},this.state.sortOrder?"Ascending":"Descending")),o.a.createElement("ol",null,s)),o.a.createElement("div",{className:"game-info",style:{width:150}},o.a.createElement("div",null,o.a.createElement("label",null,"Board size:",o.a.createElement("br",null),"Default: 20 ",o.a.createElement("br",null),o.a.createElement("input",{defaultValue:20,type:"number",ref:this.sizeInput,name:"boardsize"}))),o.a.createElement("div",null,o.a.createElement("label",null,"Winning condition:",o.a.createElement("br",null),"Default: 5 ",o.a.createElement("br",null),"Max: board size ",o.a.createElement("br",null),o.a.createElement("input",{defaultValue:5,type:"number",ref:this.winCondInput,name:"winningcond"}))),o.a.createElement("br",null),o.a.createElement("button",{onClick:function(){return e.changeGameSettings()}},"Apply and reset"),o.a.createElement("div",{style:{color:"red"}},this.state.settingsMsg)))}},{key:"checkRow",value:function(e,t,n,a,s,r){for(var i=Math.max(0,a-(n-1)),l=Math.min(a+(n-1),t-1),o=0,u=[],c=s*t,h=1;i<=l;i++)e[c+i]===r?(o++,u.push(c+i)):(o>h&&(h=o),o=0);return o>h&&(h=o),h>=n?u:null}},{key:"checkCol",value:function(e,t,n,a,s,r){for(var i=Math.max(0,s-(n-1)),l=Math.min(s+(n-1),t-1),o=0,u=[],c=a,h=1;i<=l;i++)e[i*t+c]===r?(o++,u.push(i*t+c)):(o>h&&(h=o),o=0);return o>h&&(h=o),h>=n?u:null}},{key:"checkDiag",value:function(e,t,n,a,s,r){for(var i=1,l=1,o=s,u=a,c=[];l<n;)u=a+l,(o=s+l)>=0&&o<t&&u>=0&&u<t&&e[o*t+u]===r&&(i++,c.push(o*t+u)),u=a-l,(o=s-l)>=0&&o<t&&u>=0&&u<t&&e[o*t+u]===r&&(i++,c.push(o*t+u)),l++;return i>=n?c:null}},{key:"checkAntiDiag",value:function(e,t,n,a,s,r){for(var i=1,l=1,o=s,u=a,c=[];l<n;)u=a-l,(o=s+l)>=0&&o<t&&u>=0&&u<t&&e[o*t+u]===r&&(i++,c.push(o*t+u)),u=a+l,(o=s-l)>=0&&o<t&&u>=0&&u<t&&e[o*t+u]===r&&(i++,c.push(o*t+u)),l++;return i>=n?c:null}},{key:"updateColorArray",value:function(e){var t=Array(this.state.size*this.state.size).fill("white");return e.forEach((function(e){t[parseInt(e)]="yellow"})),t}},{key:"handleClick",value:function(e){var t=this.state.history.slice(0,this.state.stepNum+1),n=Math.floor(e/this.state.size),a=e%this.state.size,s=this.state.xNext?"X":"O",r=t[t.length-1].squares.slice(),i=t[t.length-1].colors.slice(),l=[];if(null===t[t.length-1].winner&&null===r[e]){r[e]=s;var o=this.checkCol(r,this.state.size,this.state.winCond,a,n,s),u=this.checkRow(r,this.state.size,this.state.winCond,a,n,s),c=this.checkDiag(r,this.state.size,this.state.winCond,a,n,s),h=this.checkAntiDiag(r,this.state.size,this.state.winCond,a,n,s);null!==o&&(l=l.concat(o)),null!==u&&(l=l.concat(u)),null!==c&&(l=l.concat(c)).push(e),null!==h&&(l=l.concat(h)).push(e),l.length>0?this.setState({history:t.concat([{squares:r,colors:this.updateColorArray(l),winner:s,hori:a,vert:n}]),stepNum:t.length,xNext:!this.state.xNext,winner:s}):(this.setState({history:t.concat([{squares:r,colors:i,winner:null,hori:a,vert:n}]),stepNum:t.length,xNext:!this.state.xNext}),r.includes(null)||this.setState({history:t.concat([{squares:r,colors:i,winner:"None"}])}))}}}]),n}(o.a.Component);c.a.render(o.a.createElement(d,null),document.getElementById("root"))}},[[7,1,2]]]);
//# sourceMappingURL=main.20a08950.chunk.js.map